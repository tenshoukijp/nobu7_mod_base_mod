#pragma once

#include <windows.h>
#include <string>

#define セリフメッセージアドレス 0x5D9638


BOOL patchOfBushouMessage(HDC hdc, int nXStart, int nYStart, LPCTSTR lpString, int cbString);

BOOL onChangeSerifuMessage(std::string message);


/*
005D9638  8C 95 90 E6 82 A9 82 E7 89 CE 89 8A 82 AA 8F 6F  剣先から火炎が出
005D9648  82 E9 82 C6 0A 82 A2 82 ED 82 EA 82 E9 82 ED 82  ると.いわれるわ・
005D9658  B5 82 CC 8C 95 82 F0 0A 8E F3 82 AF 82 C4 8C A9  ｵの剣を.受けて見
005D9668  82 E6 81 49 81 49 00 9F 82 C2 82 C1 82 C1 81 49  よ！！.氓ﾂっっ！
005D9678  81 49 81 49 00 EA 82 E9 82 ED 81 49 00 82 B5 82  ！！.黷驍增I.し・
005D9688  C4 82 AD 82 BE 82 B3 82 A2 00                    ﾄください.....
*/


/*
メモリの呼び出し元、その①
00496D8B   E8 80B20600      CALL Nobunaga.00502010
00496D90   83C4 0C          ADD ESP, 0C
00496D93   8B45 08          MOV EAX, DWORD PTR SS : [EBP + 8]
00496D96   E8 05F1FFFF      CALL Nobunaga.00495EA0
00496D9B   BE 01000000      MOV ESI, 1
00496DA0   66:891D 4C985D00 MOV WORD PTR DS : [5D984C] , BX
00496DA7   C705 88985D00 38 > MOV DWORD PTR DS : [5D9888] , Nobunaga.005D9 > ; ASCII "ただいまデータをロードしています"
00496DB1   891D 44985D00    MOV DWORD PTR DS : [5D9844] , EBX
00496DB7   891D 48985D00    MOV DWORD PTR DS : [5D9848] , EBX
00496DBD   891D 50985D00    MOV DWORD PTR DS : [5D9850] , EBX
00496DC3   66:C705 38975D00 > MOV WORD PTR DS : [5D9738] , 0FFFF
00496DCC   66:8935 38985D00 MOV WORD PTR DS : [5D9838] , SI
00496DD3   B9 80E95700      MOV ECX, Nobunaga.0057E980
00496DD8   E8 6357FCFF      CALL Nobunaga.0045C540
00496DDD   8B08             MOV ECX, DWORD PTR DS : [EAX]
00496DDF   894D DC          MOV DWORD PTR SS : [EBP - 24] , ECX
00496DE2   8B50 04          MOV EDX, DWORD PTR DS : [EAX + 4]
00496DE5   8955 E0          MOV DWORD PTR SS : [EBP - 20] , EDX
00496DE8   8B48 08          MOV ECX, DWORD PTR DS : [EAX + 8]
00496DEB   894D E4          MOV DWORD PTR SS : [EBP - 1C] , ECX
00496DEE   8B50 0C          MOV EDX, DWORD PTR DS : [EAX + C]
00496DF1   8955 E8          MOV DWORD PTR SS : [EBP - 18] , EDX
00496DF4   0FB740 10        MOVZX EAX, WORD PTR DS : [EAX + 10]
00496DF8   66:8945 EC       MOV WORD PTR SS : [EBP - 14] , AX
00496DFC   66:A1 40985D00   MOV AX, WORD PTR DS : [5D9840]
00496E02   0FB7C8           MOVZX ECX, AX
*/

/*
0045C540   8D81 62010000    LEA EAX,DWORD PTR DS:[ECX+162]
0045C546   C3               RETN
*/

/*
メモリの呼び出し元、その②
00496E50   66:3D FE00       CMP AX,0FE
00496E54   66:A3 4C985D00   MOV WORD PTR DS:[5D984C],AX
00496E5A   72 06            JB SHORT Nobunaga.00496E62
00496E5C   8935 50985D00    MOV DWORD PTR DS:[5D9850],ESI
00496E62   B8 38965D00      MOV EAX,Nobunaga.005D9638                ; ASCII "ただいまデータをロードしています"
00496E67   8B4D F4          MOV ECX,DWORD PTR SS:[EBP-C]
00496E6A   64:890D 00000000 MOV DWORD PTR FS:[0],ECX
00496E71   59               POP ECX
00496E72   5F               POP EDI
00496E73   5E               POP ESI
00496E74   5B               POP EBX
00496E75   8BE5             MOV ESP,EBP
00496E77   5D               POP EBP
00496E78   C3               RETN
*/

/*
メモリの呼び出し元、その③
00496EF5   8935 50985D00    MOV DWORD PTR DS:[5D9850],ESI
00496EFB  ^E9 39FFFFFF      JMP Nobunaga.00496E39
00496F00   A0 48485200      MOV AL,BYTE PTR DS:[524848]
00496F05   8B0D 40485200    MOV ECX,DWORD PTR DS:[524840]
00496F0B   8B15 44485200    MOV EDX,DWORD PTR DS:[524844]
00496F11   A2 40965D00      MOV BYTE PTR DS:[5D9640],AL
00496F16   890D 38965D00    MOV DWORD PTR DS:[5D9638],ECX
00496F1C   8915 3C965D00    MOV DWORD PTR DS:[5D963C],EDX
00496F22   B8 626E4900      MOV EAX,Nobunaga.00496E62                ; ASCII "ｸ8望"
00496F27   C3               RETN
*/